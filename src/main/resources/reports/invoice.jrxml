<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports https://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name="invoice" pageWidth="595" pageHeight="842" columnWidth="515" leftMargin="40" rightMargin="40"
              topMargin="40" bottomMargin="40" uuid="d3a47f0d-3e01-4a20-8a21-040df28acf0a">
    <parameter name="logo" class="java.io.InputStream"/>
    <parameter name="orderCode" class="java.lang.String"/>
    <parameter name="orderDate" class="java.time.LocalDateTime"/>
    <parameter name="customerName" class="java.lang.String"/>
    <parameter name="customerPhone" class="java.lang.String"/>
    <parameter name="customerAddress" class="java.lang.String"/>
    <parameter name="note" class="java.lang.String"/>
    <parameter name="totalAmount" class="java.math.BigDecimal"/>
    <parameter name="itemCount" class="java.lang.Integer"/>

    <field name="productCode" class="java.lang.String"/>
    <field name="productName" class="java.lang.String"/>
    <field name="quantity" class="java.lang.Integer"/>
    <field name="unitPrice" class="java.math.BigDecimal"/>
    <field name="lineTotal" class="java.math.BigDecimal"/>

    <title>
        <band height="120">
            <image>
                <reportElement x="0" y="0" width="120" height="60" uuid="d41288d5-59d8-4989-8653-d9961c3c2de0"/>
                <imageExpression><![CDATA[$P{logo}]]></imageExpression>
            </image>
            <staticText>
                <reportElement x="140" y="10" width="250" height="25" uuid="3d311f4c-87b0-4008-99a0-12075b121977"/>
                <textElement>
                    <font size="18" isBold="true"/>
                </textElement>
                <text><![CDATA[Convenience Store Invoice]]></text>
            </staticText>
            <textField>
                <reportElement x="0" y="70" width="300" height="20" uuid="5ac5296a-085f-4cc1-96cd-46f7c5cb5827"/>
                <textElement>
                    <font size="11"/>
                </textElement>
                <textFieldExpression><![CDATA["Order Code: " + $P{orderCode}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="320" y="70" width="200" height="20" uuid="05a44f19-f9ec-46c1-9c8b-4d5ff32f9116"/>
                <textElement>
                    <font size="11"/>
                </textElement>
                <textFieldExpression><![CDATA["Date: " + ($P{orderDate} != null ? $P{orderDate}.toString() : "")]]></textFieldExpression>
            </textField>
        </band>
    </title>

    <pageHeader>
        <band height="80">
            <textField>
                <reportElement x="0" y="0" width="300" height="20" uuid="38fa2e1a-ab5e-4c4f-9bb2-755bb98b9f2b"/>
                <textElement>
                    <font size="12" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA["Customer: " + $P{customerName}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="0" y="25" width="300" height="20" uuid="c30f0cb3-7d9f-4100-9aa2-8771c7b17076"/>
                <textElement>
                    <font size="11"/>
                </textElement>
                <textFieldExpression><![CDATA["Phone: " + $P{customerPhone}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="0" y="50" width="500" height="20" uuid="bc4a7584-afb3-4dd0-bd32-476cca815864"/>
                <textElement>
                    <font size="11"/>
                </textElement>
                <textFieldExpression><![CDATA["Address: " + $P{customerAddress}]]></textFieldExpression>
            </textField>
        </band>
    </pageHeader>

    <columnHeader>
        <band height="25">
            <staticText>
                <reportElement x="0" y="0" width="60" height="20" uuid="c4f6cf36-0f88-4c10-9cda-772cefb4e1c5"/>
                <textElement textAlignment="Center"/>
                <text><![CDATA[Code]]></text>
            </staticText>
            <staticText>
                <reportElement x="70" y="0" width="200" height="20" uuid="48126f0e-5cbd-489c-b4b5-e4380e7f7bf1"/>
                <textElement textAlignment="Left"/>
                <text><![CDATA[Product]]></text>
            </staticText>
            <staticText>
                <reportElement x="280" y="0" width="60" height="20" uuid="2383b733-2ed3-448e-8f46-98f9a3fb3c0a"/>
                <textElement textAlignment="Center"/>
                <text><![CDATA[Qty]]></text>
            </staticText>
            <staticText>
                <reportElement x="350" y="0" width="80" height="20" uuid="6a755a2d-5d44-4522-9111-215bb4e65e6d"/>
                <textElement textAlignment="Right"/>
                <text><![CDATA[Unit Price]]></text>
            </staticText>
            <staticText>
                <reportElement x="440" y="0" width="80" height="20" uuid="6e75e36e-7a17-45e3-8dc1-04bb766176be"/>
                <textElement textAlignment="Right"/>
                <text><![CDATA[Line Total]]></text>
            </staticText>
        </band>
    </columnHeader>

    <detail>
        <band height="20">
            <textField>
                <reportElement x="0" y="0" width="60" height="18" uuid="dc2f7238-f977-4b05-b1ca-5f4b75d2fa93"/>
                <textElement textAlignment="Center"/>
                <textFieldExpression><![CDATA[$F{productCode}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="70" y="0" width="200" height="18" uuid="8d2ca1e2-d3bd-457d-b7f2-946f6b1d6ff9"/>
                <textFieldExpression><![CDATA[$F{productName}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="280" y="0" width="60" height="18" uuid="eae9d7df-d1dd-4015-8d89-0f5a2b342ad7"/>
                <textElement textAlignment="Center"/>
                <textFieldExpression><![CDATA[$F{quantity}]]></textFieldExpression>
            </textField>
            <textField pattern="#,##0">
                <reportElement x="350" y="0" width="80" height="18" uuid="5c347e39-13ac-4979-8033-6db3d6541a62"/>
                <textElement textAlignment="Right"/>
                <textFieldExpression><![CDATA[$F{unitPrice}]]></textFieldExpression>
            </textField>
            <textField pattern="#,##0">
                <reportElement x="440" y="0" width="80" height="18" uuid="a6a7b78b-77c3-4631-9f4b-9a1d83d214ce"/>
                <textElement textAlignment="Right"/>
                <textFieldExpression><![CDATA[$F{lineTotal}]]></textFieldExpression>
            </textField>
        </band>
    </detail>

    <summary>
        <band height="140">
            <textField pattern="#,##0">
                <reportElement x="360" y="10" width="160" height="20" uuid="f838a802-f278-4b5f-a27e-f7845f8da95a"/>
                <textElement textAlignment="Right"/>
                <textFieldExpression><![CDATA["Total: " + $P{totalAmount}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="0" y="35" width="500" height="20" uuid="1f4fad20-e3f0-4489-a99f-2f9d7847c933"/>
                <textFieldExpression><![CDATA["Items: " + $P{itemCount}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="0" y="60" width="500" height="40" uuid="40c1edaa-1d4d-45a0-94dc-28df18ad19f1"/>
                <textElement>
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[$P{note} == null ? "" : "Note: " + $P{note}]]></textFieldExpression>
            </textField>
        </band>
    </summary>
</jasperReport>
